FINISH              ! 结束当前模块 xin
/CLEAR , START       ! 清除数据库，开始新的分析
!========== 定义参数 (Preprocessor) ==========
str = '%z%h=%h%T1=%T1%T2=%T2%'
! ===== 1. 设置工作目录和文件名 =====
/MKDIR, 'D:/result/test1'     ! 创建项目目录（如不存在）
/CWD,'D:/result/test1'        ! 设置工作目录
/FILNAME,str, 1     ! 设置文件名前缀
! ========== 前处理 (Preprocessor) ==========
/PREP7              ! 进入前处理器
! 1. 定义材料属性 (钢)
MP, EX, 1, 210000   ! 杨氏模量 (Pa)
MP, PRXY, 1, 0.3    ! 泊松比
MP, DENS, 1, 7.85e-9   ! 密度 (kg/m3)

! 2. 定义单元类型 (壳单元SHELL181)
ET, 1, SHELL181     ! 选择壳单元类型
KEYOPT, 1, 8, 2     ! 设置存储应力和应变

! 3. 定义不同厚度的实常
! 箱顶厚度
R, 1, 8
! 箱沿及箱顶箱沿厚度 
R, 2, 8
! 侧壁厚度
R, 3, 8
! 加强拱厚度
R, 4, 8
! 箱顶加强筋厚度
R, 5, 6
! 竖向加强槽下加强筋厚度
R, 6, 8
    K , 1 , -2500.0 , 1000.0 , 0
K , 2 , 2500.0 , 1000.0 , 0
K , 3 , 2500.0 , -1000.0 , 0
K , 4 , -2500.0 , -1000.0 , 0
K , 5 , -2500.0 , 1000.0 , 3000.0
K , 6 , 2500.0 , 1000.0 , 3000.0
K , 7 , 2500.0 , -1000.0 , 3000.0
K , 8 , -2500.0 , -1000.0 , 3000.0
A , 5 , 6 , 2 , 1
A , 6 , 7 , 3 , 2
A , 7 , 8 , 4 , 3
A , 8 , 5 , 1 , 4
ASEL, ALL
! 创建新组件侧壁
CM, CEBI, AREA
ASEL, NONE
K , 17 , -2700.0 , 1200.0 , 0
K , 18 , 2700.0 , 1200.0 , 0
K , 19 , 2700.0 , -1200.0 , 0
K , 20 , -2700.0 , -1200.0 , 0
K , 21 , -2700.0 , 1200.0 , 3000.0
K , 22 , 2700.0 , 1200.0 , 3000.0
K , 23 , 2700.0 , -1200.0 , 3000.0
K , 24 , -2700.0 , -1200.0 , 3000.0
A , 1, 2, 3, 4
BOTTOM_AREA = _RETURN
A , 17,18,19,20
RIM_AREA = _RETURN
ASBA, RIM_AREA, BOTTOM_AREA
! 创建新组件箱底沿
CM, BOTTOM_RIM, AREA
ASEL, NONE
A , 8,7,6,5
UP_AREA = _RETURN
A , 24,23,22,21
UP_RIM_AREA = _RETURN
ASBA, UP_RIM_AREA, UP_AREA
! 创建新组件箱盖沿
CM, TOP_RIM, AREA
ASEL, NONE
K , 33 , 517.0 , 1000.0 , 3000.0
K , 34 , 517.0 , -1000.0 , 3000.0
K , 35 , 517.0 , -1000.0 , 3120.0
K , 36 , 517.0 , 1000.0 , 3120.0
K , 37 , -1300.0 , 1000.0 , 3000.0
K , 38 , -1100.0 , -1000.0 , 3000.0
K , 39 , -1100.0 , -1000.0 , 3120.0
K , 40 , -1300.0 , 1000.0 , 3120.0
A , 33 , 34 , 35 , 36
A , 37 , 38 , 39 , 40
! 创建新组件箱盖加强筋
CM, XDJIAQIANGJIN, AREA
ASEL, NONE
K , 73 , -2500.0 , 1000.0 , 3000.0
K , 74 , -2500.0 , -1000.0 , 3000.0
K , 75 , -1100.0 , -1000.0 , 3000.0
K , 76 , -1300.0 , 1000.0 , 3000.0
K , 77 , 517.0 , 1000.0 , 3000.0
K , 78 , 517.0 , -1000.0 , 3000.0
K , 79 , 2500.0 , -1000.0 , 3000.0
K , 80 , 2500.0 , 1000.0 , 3000.0
K , 81 , -1300.0 , 1000.0 , 3000.0
K , 82 , -1100.0 , -1000.0 , 3000.0
K , 83 , 517.0 , -1000.0 , 3000.0
K , 84 , 517.0 , 1000.0 , 3000.0
A , 73 , 74 , 75 , 76
A , 77 , 78 , 79 , 80
A , 81 , 82 , 83 , 84
! 创建新组件箱盖
CM, TOP, AREA
ASEL, NONE
K , 121 , -1690.0 , 1000.0 , 0
K , 122 , -1690.0 , 1000.0 , 200.0
K , 123 , -1690.0 , 1400.0 , 400.0
K , 124 , -1690.0 , 1200.0 , 0
K , 125 , -1310.0 , 1000.0 , 0
K , 126 , -1310.0 , 1000.0 , 200.0
K , 127 , -1310.0 , 1400.0 , 400.0
K , 128 , -1310.0 , 1200.0 , 0
K , 129 , -890.0 , 1000.0 , 0
K , 130 , -890.0 , 1000.0 , 200.0
K , 131 , -890.0 , 1400.0 , 400.0
K , 132 , -890.0 , 1200.0 , 0
K , 133 , -510.0 , 1000.0 , 0
K , 134 , -510.0 , 1000.0 , 200.0
K , 135 , -510.0 , 1400.0 , 400.0
K , 136 , -510.0 , 1200.0 , 0
K , 137 , -1690.0 , -1000.0 , 0
K , 138 , -1690.0 , -1000.0 , 200.0
K , 139 , -1690.0 , -1400.0 , 400.0
K , 140 , -1690.0 , -1200.0 , 0
K , 141 , -1310.0 , -1000.0 , 0
K , 142 , -1310.0 , -1000.0 , 200.0
K , 143 , -1310.0 , -1400.0 , 400.0
K , 144 , -1310.0 , -1200.0 , 0
K , 145 , -890.0 , -1000.0 , 0
K , 146 , -890.0 , -1000.0 , 200.0
K , 147 , -890.0 , -1400.0 , 400.0
K , 148 , -890.0 , -1200.0 , 0
K , 149 , -510.0 , -1000.0 , 0
K , 150 , -510.0 , -1000.0 , 200.0
K , 151 , -510.0 , -1400.0 , 400.0
K , 152 , -510.0 , -1200.0 , 0
A , 121 , 122 , 123 , 124
A , 125 , 126 , 127 , 128
A , 129 , 130 , 131 , 132
A , 133 , 134 , 135 , 136
A , 137 , 138 , 139 , 140
A , 141 , 142 , 143 , 144
A , 145 , 146 , 147 , 148
A , 149 , 150 , 151 , 152
! 创建新组件长轴纵向加强筋底部加强筋
CM, JIAQIANGLEI, AREA
ASEL, NONE
K , 161 , -1700.0 , 1000.0 , 2700.0
K , 162 , -1700.0 , 1400.0 , 2500.0
K , 163 , -1700.0 , 1400.0 , 400.0
K , 164 , -1700.0 , 1000.0 , 200.0
K , 165 , -1300.0 , 1000.0 , 2700.0
K , 166 , -1300.0 , 1000.0 , 200.0
K , 167 , -1300.0 , 1400.0 , 400.0
K , 168 , -1300.0 , 1400.0 , 2500.0
K , 169 , -1700.0 , 1400.0 , 2500.0
K , 170 , -1300.0 , 1400.0 , 2500.0
K , 171 , -1300.0 , 1400.0 , 400.0
K , 172 , -1700.0 , 1400.0 , 400.0
K , 173 , -1700.0 , 1400.0 , 400.0
K , 174 , -1300.0 , 1400.0 , 400.0
K , 175 , -1300.0 , 1000.0 , 200.0
K , 176 , -1700.0 , 1000.0 , 200.0
K , 177 , -1700.0 , 1400.0 , 2500.0
K , 178 , -1700.0 , 1000.0 , 2700.0
K , 179 , -1300.0 , 1000.0 , 2700.0
K , 180 , -1300.0 , 1400.0 , 2500.0
K , 181 , -900.0 , 1000.0 , 2700.0
K , 182 , -900.0 , 1400.0 , 2500.0
K , 183 , -900.0 , 1400.0 , 400.0
K , 184 , -900.0 , 1000.0 , 200.0
K , 185 , -500.0 , 1000.0 , 2700.0
K , 186 , -500.0 , 1000.0 , 200.0
K , 187 , -500.0 , 1400.0 , 400.0
K , 188 , -500.0 , 1400.0 , 2500.0
K , 189 , -900.0 , 1400.0 , 2500.0
K , 190 , -500.0 , 1400.0 , 2500.0
K , 191 , -500.0 , 1400.0 , 400.0
K , 192 , -900.0 , 1400.0 , 400.0
K , 193 , -900.0 , 1400.0 , 400.0
K , 194 , -500.0 , 1400.0 , 400.0
K , 195 , -500.0 , 1000.0 , 200.0
K , 196 , -900.0 , 1000.0 , 200.0
K , 197 , -900.0 , 1400.0 , 2500.0
K , 198 , -900.0 , 1000.0 , 2700.0
K , 199 , -500.0 , 1000.0 , 2700.0
K , 200 , -500.0 , 1400.0 , 2500.0
K , 201 , -1700.0 , -1000.0 , 2700.0
K , 202 , -1700.0 , -1400.0 , 2500.0
K , 203 , -1700.0 , -1400.0 , 400.0
K , 204 , -1700.0 , -1000.0 , 200.0
K , 205 , -1300.0 , -1000.0 , 2700.0
K , 206 , -1300.0 , -1000.0 , 200.0
K , 207 , -1300.0 , -1400.0 , 400.0
K , 208 , -1300.0 , -1400.0 , 2500.0
K , 209 , -1700.0 , -1400.0 , 2500.0
K , 210 , -1300.0 , -1400.0 , 2500.0
K , 211 , -1300.0 , -1400.0 , 400.0
K , 212 , -1700.0 , -1400.0 , 400.0
K , 213 , -1700.0 , -1400.0 , 400.0
K , 214 , -1300.0 , -1400.0 , 400.0
K , 215 , -1300.0 , -1000.0 , 200.0
K , 216 , -1700.0 , -1000.0 , 200.0
K , 217 , -1700.0 , -1400.0 , 2500.0
K , 218 , -1700.0 , -1000.0 , 2700.0
K , 219 , -1300.0 , -1000.0 , 2700.0
K , 220 , -1300.0 , -1400.0 , 2500.0
K , 221 , -900.0 , -1000.0 , 2700.0
K , 222 , -900.0 , -1400.0 , 2500.0
K , 223 , -900.0 , -1400.0 , 400.0
K , 224 , -900.0 , -1000.0 , 200.0
K , 225 , -500.0 , -1000.0 , 2700.0
K , 226 , -500.0 , -1000.0 , 200.0
K , 227 , -500.0 , -1400.0 , 400.0
K , 228 , -500.0 , -1400.0 , 2500.0
K , 229 , -900.0 , -1400.0 , 2500.0
K , 230 , -500.0 , -1400.0 , 2500.0
K , 231 , -500.0 , -1400.0 , 400.0
K , 232 , -900.0 , -1400.0 , 400.0
K , 233 , -900.0 , -1400.0 , 400.0
K , 234 , -500.0 , -1400.0 , 400.0
K , 235 , -500.0 , -1000.0 , 200.0
K , 236 , -900.0 , -1000.0 , 200.0
K , 237 , -900.0 , -1400.0 , 2500.0
K , 238 , -900.0 , -1000.0 , 2700.0
K , 239 , -500.0 , -1000.0 , 2700.0
K , 240 , -500.0 , -1400.0 , 2500.0
A , 161 , 162 , 163 , 164
A , 165 , 166 , 167 , 168
A , 169 , 170 , 171 , 172
A , 173 , 174 , 175 , 176
A , 177 , 178 , 179 , 180
A , 181 , 182 , 183 , 184
A , 185 , 186 , 187 , 188
A , 189 , 190 , 191 , 192
A , 193 , 194 , 195 , 196
A , 197 , 198 , 199 , 200
A , 201 , 202 , 203 , 204
A , 205 , 206 , 207 , 208
A , 209 , 210 , 211 , 212
A , 213 , 214 , 215 , 216
A , 217 , 218 , 219 , 220
A , 221 , 222 , 223 , 224
A , 225 , 226 , 227 , 228
A , 229 , 230 , 231 , 232
A , 233 , 234 , 235 , 236
A , 237 , 238 , 239 , 240
! 创建新组件长轴纵向加强筋
K , 681 , -1900.0 , 1000.0 , 600.0
K , 682 , -1800.0 , 1400.0 , 600.0
K , 683 , -1700.0 , 1400.0 , 600.0
K , 684 , -1700.0 , 1000.0 , 600.0
K , 685 , -1900.0 , 1000.0 , 1100.0
K , 686 , -1700.0 , 1000.0 , 1100.0
K , 687 , -1700.0 , 1400.0 , 1100.0
K , 688 , -1800.0 , 1400.0 , 1100.0
K , 689 , -1900.0 , 1000.0 , 600.0
K , 690 , -1900.0 , 1000.0 , 1100.0
K , 691 , -1800.0 , 1400.0 , 1100.0
K , 692 , -1800.0 , 1400.0 , 600.0
K , 693 , -1800.0 , 1400.0 , 600.0
K , 694 , -1800.0 , 1400.0 , 1100.0
K , 695 , -1700.0 , 1400.0 , 1100.0
K , 696 , -1700.0 , 1400.0 , 600.0
K , 697 , -1900.0 , -1000.0 , 600.0
K , 698 , -1800.0 , -1400.0 , 600.0
K , 699 , -1700.0 , -1400.0 , 600.0
K , 700 , -1700.0 , -1000.0 , 600.0
K , 701 , -1900.0 , -1000.0 , 1100.0
K , 702 , -1700.0 , -1000.0 , 1100.0
K , 703 , -1700.0 , -1400.0 , 1100.0
K , 704 , -1800.0 , -1400.0 , 1100.0
K , 705 , -1900.0 , -1000.0 , 600.0
K , 706 , -1900.0 , -1000.0 , 1100.0
K , 707 , -1800.0 , -1400.0 , 1100.0
K , 708 , -1800.0 , -1400.0 , 600.0
K , 709 , -1800.0 , -1400.0 , 600.0
K , 710 , -1800.0 , -1400.0 , 1100.0
K , 711 , -1700.0 , -1400.0 , 1100.0
K , 712 , -1700.0 , -1400.0 , 600.0
K , 713 , -1300.0 , 1000.0 , 600.0
K , 714 , -1300.0 , 1400.0 , 600.0
K , 715 , -900.0 , 1400.0 , 600.0
K , 716 , -900.0 , 1000.0 , 600.0
K , 717 , -1300.0 , 1000.0 , 1100.0
K , 718 , -900.0 , 1000.0 , 1100.0
K , 719 , -900.0 , 1400.0 , 1100.0
K , 720 , -1300.0 , 1400.0 , 1100.0
K , 721 , -1300.0 , 1400.0 , 1100.0
K , 722 , -900.0 , 1400.0 , 1100.0
K , 723 , -900.0 , 1400.0 , 600.0
K , 724 , -1300.0 , 1400.0 , 600.0
K , 725 , -1300.0 , -1000.0 , 600.0
K , 726 , -1300.0 , -1400.0 , 600.0
K , 727 , -900.0 , -1400.0 , 600.0
K , 728 , -900.0 , -1000.0 , 600.0
K , 729 , -1300.0 , -1000.0 , 1100.0
K , 730 , -900.0 , -1000.0 , 1100.0
K , 731 , -900.0 , -1400.0 , 1100.0
K , 732 , -1300.0 , -1400.0 , 1100.0
K , 733 , -1300.0 , -1400.0 , 1100.0
K , 734 , -900.0 , -1400.0 , 1100.0
K , 735 , -900.0 , -1400.0 , 600.0
K , 736 , -1300.0 , -1400.0 , 600.0
A , 681 , 682 , 683 , 684
A , 685 , 686 , 687 , 688
A , 689 , 690 , 691 , 692
A , 693 , 694 , 695 , 696
A , 697 , 698 , 699 , 700
A , 701 , 702 , 703 , 704
A , 705 , 706 , 707 , 708
A , 709 , 710 , 711 , 712
A , 713 , 714 , 715 , 716
A , 717 , 718 , 719 , 720
A , 721 , 722 , 723 , 724
A , 725 , 726 , 727 , 728
A , 729 , 730 , 731 , 732
A , 733 , 734 , 735 , 736
! 创建新组件长轴横向加强筋
K , 1081 , -2500.0 , 100.0 , 2700.0
K , 1082 , -2900.0 , 100.0 , 2500.0
K , 1083 , -2900.0 , 100.0 , 400.0
K , 1084 , -2500.0 , 100.0 , 200.0
K , 1085 , -2500.0 , 400.0 , 2700.0
K , 1086 , -2500.0 , 400.0 , 200.0
K , 1087 , -2900.0 , 400.0 , 400.0
K , 1088 , -2900.0 , 400.0 , 2500.0
K , 1089 , -2500.0 , 100.0 , 2700.0
K , 1090 , -2500.0 , 400.0 , 2700.0
K , 1091 , -2900.0 , 400.0 , 2500.0
K , 1092 , -2900.0 , 100.0 , 2500.0
K , 1093 , -2500.0 , 100.0 , 200.0
K , 1094 , -2900.0 , 100.0 , 400.0
K , 1095 , -2900.0 , 400.0 , 400.0
K , 1096 , -2500.0 , 400.0 , 200.0
K , 1097 , -2900.0 , 100.0 , 400.0
K , 1098 , -2900.0 , 100.0 , 2500.0
K , 1099 , -2900.0 , 400.0 , 2500.0
K , 1100 , -2900.0 , 400.0 , 400.0
K , 1101 , 2500.0 , 400.0 , 2700.0
K , 1102 , 2900.0 , 400.0 , 2500.0
K , 1103 , 2900.0 , 400.0 , 400.0
K , 1104 , 2500.0 , 400.0 , 200.0
K , 1105 , 2500.0 , 100.0 , 2700.0
K , 1106 , 2500.0 , 100.0 , 200.0
K , 1107 , 2900.0 , 100.0 , 400.0
K , 1108 , 2900.0 , 100.0 , 2500.0
K , 1109 , 2500.0 , 100.0 , 200.0
K , 1110 , 2500.0 , 400.0 , 200.0
K , 1111 , 2900.0 , 400.0 , 400.0
K , 1112 , 2900.0 , 100.0 , 400.0
K , 1113 , 2500.0 , 100.0 , 2700.0
K , 1114 , 2900.0 , 100.0 , 2500.0
K , 1115 , 2900.0 , 400.0 , 2500.0
K , 1116 , 2500.0 , 400.0 , 2700.0
K , 1117 , 2900.0 , 100.0 , 2500.0
K , 1118 , 2900.0 , 100.0 , 400.0
K , 1119 , 2900.0 , 400.0 , 400.0
K , 1120 , 2900.0 , 400.0 , 2500.0
A , 1081 , 1082 , 1083 , 1084
A , 1085 , 1086 , 1087 , 1088
A , 1089 , 1090 , 1091 , 1092
A , 1093 , 1094 , 1095 , 1096
A , 1097 , 1098 , 1099 , 1100
A , 1101 , 1102 , 1103 , 1104
A , 1105 , 1106 , 1107 , 1108
A , 1109 , 1110 , 1111 , 1112
A , 1113 , 1114 , 1115 , 1116
A , 1117 , 1118 , 1119 , 1120
! 创建新组件短轴纵向加强筋
! 创建新组件加强拱
CM, JIAQIANGGONG, AREA
ASEL, NONE
K , 1237 , -2900.0 , 390.0 , 400.0
K , 1238 , -2500.0 , 390.0 , 200.0
K , 1239 , -2500.0 , 390.0 , 0
K , 1240 , -2700.0 , 390.0 , 0
K , 1241 , -2900.0 , 110.0 , 400.0
K , 1242 , -2500.0 , 110.0 , 200.0
K , 1243 , -2500.0 , 110.0 , 0
K , 1244 , -2700.0 , 110.0 , 0
K , 1245 , 2900.0 , 390.0 , 400.0
K , 1246 , 2500.0 , 390.0 , 200.0
K , 1247 , 2500.0 , 390.0 , 0
K , 1248 , 2700.0 , 390.0 , 0
K , 1249 , 2900.0 , 110.0 , 400.0
K , 1250 , 2500.0 , 110.0 , 200.0
K , 1251 , 2500.0 , 110.0 , 0
K , 1252 , 2700.0 , 110.0 , 0
A , 1237 , 1238 , 1239 , 1240
A , 1241 , 1242 , 1243 , 1244
A , 1245 , 1246 , 1247 , 1248
A , 1249 , 1250 , 1251 , 1252
! 创建新组件短轴纵向加强筋底部加强筋
CMSEL,A,JIAQIANGLEI
CM, JIAQIANGLEI, AREA, APPEND
ASEL, NONE

! ========== 分配属性 ==========
! 箱盖
CMSEL, S, TOP
TYPE, 1
MAT, 1
REAL, 1
! 箱顶沿
CMSEL, S, TOP_RIM
TYPE, 1
MAT, 1
REAL, 2
! 箱底沿
CMSEL, S, BOTTOM_RIM
TYPE, 1
MAT, 1
REAL, 2
! 侧壁
CMSEL, S, CEBI
TYPE, 1
MAT, 1
REAL, 3
! 加强拱
CMSEL, S, JIAQIANGGONG
TYPE, 1
MAT, 1
REAL, 4
! 箱盖加强筋
CMSEL, S, XDJIAQIANGJIN
TYPE, 1
MAT, 1
REAL, 5
! 纵向加强拱下加强筋
CMSEL, S, JIAQIANGLEI
TYPE, 1
MAT, 1
REAL, 6
! 线面粘合
ASEL, ALL
AOVLAP, ALL
! 将侧壁面选择为一个组件
ASEL, NONE
ASEL, S, LOC, Y, 1000.0  ! 选择Y=Box_Width/2的面
ASEL, A, LOC, Y, -1000.0  ! 选择Y=-Box_Width/2的面
ASEL, A, LOC, X, 2500.0  ! 选择Y=Box_Length/2的面
ASEL, A, LOC, X, -2500.0  ! 选择Y=-Box_Length/2的面
CM, CEBI, AREA, APPEND 
! 将顶面选择为一个组件
ASEL, NONE
ASEL, S, LOC, Z, 3000  ! 选择Z=Box_Height的面
CM, TOP, AREA, APPEND 

! 设置网格参数
MSHAPE, 0, 2D     ! 首选四边形
MSHKEY, 0         ! 自由网格
ESIZE, 30           ! 设置单元尺寸
AMESH, ALL        ! 划分网格
! 完成所有网格划分
ASEL, ALL         ! 选择所有实体

! ============ 求解 ============
/SOLU

! 1. 施加约束 (使用节点组件)
! 选择Z=0平面上所有边并施加约束
LSEL,S,LOC,Z,0 
DL,ALL,,ALL                     ! 约束所有边上的所有自由度(123=UX,UY,UZ)


! 2. 施加压力 (0.1 MPa)

SF, CEBI, PRES, 0.1  ! 对节点组件施加0.1 MPa压力
SF, TOP, PRES, 0.1  ! 对节点组件施加0.1 MPa压力
! 3. 求解设置
! 2. 激活大挠曲选项
NLGEOM, ON        ! 关键命令：启用大挠曲

! 3. 设置分析类型
ANTYPE, STATIC    ! 静态分析（最常用）

! 4. 配置非线性求解选项
NROPT, AUTO       ! 自动选择牛顿-拉普森选项
AUTOTS, ON        ! 自动时间步长
TIME, 1           ! 总时间（伪时间）
NSUBST, 20, 100, 50 ! 子步设置(初始,最大,最小)
CNVTOL, F, , 0.05, 2 ! 力收敛容差(5%)
CNVTOL, U, , 0.05, 2    ! 位移收敛5%
ANTYPE, STATIC      ! 静态分析
OUTRES, ALL, NONE     ! 关闭所有结果输出
OUTRES,NSOL,LAST     ! 节点位移
OUTRES,STRS,LAST

SOLVE               ! 开始求解

! ============ 后处理输出云图 ============
/POST1
SET, LAST 
/SHOW, JPEG, , 0         ! 设置输出为 JPEG 格式
/GFILE, 1200             ! 设置图像质量（1200 像素）
/VIEW, 1, 1, 1, 1   ! 等轴测视图（1,1,1方向）
PLNSOL, U, SUM           ! 此时会保存图像
PLESOL, S, EQV
/SHOW, CLOSE             ! 关闭文件输出


CDWRITE, 'ALL', str, 'cdb',

ASEL, ALL
APLOT
/PNUM,AREA,1
